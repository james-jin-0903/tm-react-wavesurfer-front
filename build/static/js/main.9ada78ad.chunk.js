(this["webpackJsonprefmaker-console"]=this["webpackJsonprefmaker-console"]||[]).push([[0],{126:function(e,t,a){e.exports=a(151)},135:function(e,t,a){},137:function(e,t,a){},140:function(e,t,a){e.exports=a.p+"static/media/logo.22b06b30.png"},151:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),l=a(21),s=a(41),o=a(104),i=(a(135),a(45)),u=a(17),m=(a(136),a(137),a(138),a(97)),d=a(99),E=a(98),f=a(201),g=a(203),p=a(194),b=a(153),v=a(200),h=a(199),O=a(202),S=a(192),T=a(190),j=function(e){var t=e["session-key"],a=e.start_time,n=e.name,c=e.artist,l=e.venue,s=e.promoter_name,o=e.length,i=e.outputs,m=Object(u.f)(),d=Object(T.a)({row:{cursor:"pointer"}})();return r.a.createElement(S.a,{hover:!0,className:d.row,onClick:function(){return function(e){m.push("/session/".concat(e))}(t)}},r.a.createElement(p.a,null,a),r.a.createElement(p.a,null,n),r.a.createElement(p.a,null,c),r.a.createElement(p.a,null,l),r.a.createElement(p.a,null,s),r.a.createElement(p.a,null,new Date(1e3*o).toUTCString().match(/(\d\d:\d\d:\d\d)/)[0].replace(/^0/,"")),r.a.createElement(p.a,null,(i||[]).length))},k=a(195),y=a(196),C=a(198),x=a(197);function w(e){var t=e.session;return r.a.createElement(k.a,null,r.a.createElement(y.a,null,r.a.createElement(x.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(i.b,{to:"/"},r.a.createElement("img",{src:a(140),alt:"logo",style:{width:"6rem"}})),r.a.createElement("div",null,t&&r.a.createElement(C.a,{variant:"h6"},t?t.artist:"Artist"," / "," ",t?t.name:"Name"," / ",t?t.venue:"Venue")))))}var A=function(e){var t=e.sessions,a=Object(T.a)((function(e){return{paperClass:{marginTop:"20px",marginBottom:"20px",padding:"10px"},mt7:{marginTop:"7rem"}}}))();return r.a.createElement(h.a,{className:a.mt7},r.a.createElement(w,null),r.a.createElement(b.a,{className:a.paperClass},r.a.createElement("h1",null,"Sessions")),r.a.createElement(v.a,{component:b.a},r.a.createElement(f.a,null,r.a.createElement(O.a,null,r.a.createElement(S.a,null,r.a.createElement(p.a,null,"Start Date"),r.a.createElement(p.a,null,"Name"),r.a.createElement(p.a,null,"Artist"),r.a.createElement(p.a,null,"Venue"),r.a.createElement(p.a,null,"Promoter"),r.a.createElement(p.a,null,"Length"),r.a.createElement(p.a,null,"Track Count"))),r.a.createElement(g.a,null,t.map((function(e,t){return r.a.createElement(j,Object.assign({key:t},e))}))))))},R=Object(l.b)((function(e){return{sessions:e.sessions}}))(A),_=a(72),L=a(13),N=a(26),D=a.n(N),M=a(88),I=a(89),P=a.n(I),U=a(204),z=a(210);function B(e){return r.a.createElement(z.a,{display:"flex",alignItems:"center"},r.a.createElement(z.a,{width:"100%",mr:1},r.a.createElement(U.a,Object.assign({variant:"determinate"},e))),r.a.createElement(z.a,{minWidth:35},r.a.createElement(C.a,{variant:"body2",color:"textSecondary"},"".concat(Math.round(e.value),"%"))))}var G=a(90),K=a.n(G),Y=a(91),X=a.n(Y),W=a(92),F=a.n(W),V=a(94),q=a.n(V),J=a(93),H=a.n(J),$=a(154),Q=a(102),Z=a(214);function ee(e){return{type:"DELETE_TRACK",segment:e}}function te(e){return{type:"EDIT_TRACK",segment:e}}var ae={mouseX:null,mouseY:null},ne=function(e){var t=e.session,a=e.sessionAudioURL,c=e.tracks,s=Object(n.useState)(0),o=Object(L.a)(s,2),i=o[0],u=o[1],m=Object(n.useState)(null),d=Object(L.a)(m,2),E=d[0],f=d[1],g=Object(n.useState)(!1),p=Object(L.a)(g,2),v=p[0],h=p[1],O=Object(n.useState)(ae),S=Object(L.a)(O,2),j=S[0],k=S[1],y=Object(n.useState)(null),C=Object(L.a)(y,2),x=C[0],w=C[1],A=Object(n.useRef)(null),R=Object(n.useRef)(null),_=Object(n.useRef)(null),N=Object(l.c)();Object(n.useEffect)((function(){v&&t&&(E.clearRegions(),c.forEach((function(e,t){var a={id:e.segment,start:e.start,end:e.end,resize:e.resize,drag:e.drag,color:e.regionColor};E.addRegion(a)})))}),[c,v,t,E]),Object(n.useEffect)((function(){E&&(E.un("region-click"),E.un("region-dblclick"),E.un("region-update-end"),E.un("region-mouseleave"),E.un("seek"),E.on("loading",function(){var e=Object(M.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E.on("ready",(function(){E.enableDragSelection({color:"rgba(100,100,100,0.1)"}),h(!0)})),E.on("region-click",(function(e,t){t.stopPropagation(),E.play(e.start+t.offsetX/5)})),E.on("seek",(function(e){E.play(e*E.getDuration())})),E.on("region-dblclick",(function(e,t){t.stopPropagation();var a=e.start-3<0?0:e.start-3;E.play(a,e.end)})),E.on("region-mouseleave",(function(e,t){R.current.click()})),E.on("play",(function(){A.current.style.display="none",_.current.style.display=""})),E.on("region-update-end",(function(e){if(isNaN(e.id)){var t={start:Math.round(e.start),end:Math.round(e.end),duration:Math.round(e.end)-Math.round(e.start)};N({type:"CREATE_TRACK",data:t})}else{c.forEach((function(t){t.segment===e.id&&(t.start=Math.round(e.start),t.end=Math.round(e.end),t.duration=Math.round(e.end)-Math.round(e.start))}));var a=c.find((function(t){return t.segment===e.id}));N(te(a))}})),E.on("pause",(function(){A.current.style.display="",_.current.style.display="none"})))}),[E,c]),Object(n.useEffect)((function(){E||E||f(P.a.create({container:".waveform",height:150,scrollParent:!0,normalize:!0,minimap:!0,minPxPerSec:5,plugins:[K.a.create(),X.a.create({height:30,waveColor:"#ddd",progressColor:"#999",cursorColor:"#999"}),F.a.create({container:".waveformTimeLine"})]}))}),[]),Object(n.useEffect)((function(){E&&a&&(E.load(a),window.addEventListener("keyup",(function(e){32===e.keyCode&&E&&E.playPause()})))}),[E,a]);var I=Object(T.a)((function(e){return{timelineContainer:{padding:"10px"},rmButton:{marginTop:"20px",width:"120px"},waveformContainer:{height:"180px"},waveformTimelineContainer:{height:"20px",position:"relative"},contextMenuTitle:{textAlign:"center"}}}))();return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{className:I.timelineContainer,elevation:3},r.a.createElement("div",{className:"waveform ".concat(I.waveformContainer),onContextMenu:function(e){e.preventDefault(),"wavesurfer-region"===e.target.className&&(w(Number(e.target.getAttribute("data-id"))),k({mouseX:e.clientX-2,mouseY:e.clientY-4}))},style:{cursor:"context-menu"}}),r.a.createElement("div",{className:"waveformTimeLine ".concat(I.waveformTimelineContainer)})),r.a.createElement(Q.a,{keepMounted:!0,open:null!==j.mouseY,onClose:function(){k(ae)},anchorReference:"anchorPosition",transitionDuration:0,anchorPosition:null!==j.mouseY&&null!==j.mouseX?{top:j.mouseY,left:j.mouseX}:void 0},r.a.createElement("h6",{className:I.contextMenuTitle},"Segment : ",x),r.a.createElement(Z.a,{onClick:function(){if(c){var e=!1;c.map((function(t){t.segment===x&&(e=t.drag)})),c.forEach((function(t){t.segment===x&&(e?(t.resize=!1,t.drag=!1):(t.resize=!0,t.drag=!0))}));var t=c.find((function(e){return e.segment===x}));t&&N(te(t)),k(ae)}},key:"Unlock/Lock"},"Unlock/Lock"),r.a.createElement(Z.a,{onClick:function(){x&&N(ee(x)),k(ae)},key:"Remove"},"Remove"),r.a.createElement(Z.a,{onClick:function(){k(ae),c.forEach((function(e){e.segment===x&&(e.collapse=!0)}));var e=c.find((function(e){return e.segment===x}));e&&N(te(e))},key:"Add Meta Data"},"Add Meta Data"),x>1&&r.a.createElement(Z.a,{onClick:function(){if(k(ae),x>1){var e=c.find((function(e){return e.segment===x})),t=x-1,a=c.find((function(e){return e.segment===t}));e.start=a.start,e.end=a.end>e.end?a.end:e.end,e.duration=Math.round(e.end)-Math.round(e.start),N(te(e)),N(ee(t))}},key:"Merge with previous"},"Merge with previous"),x<c.length&&r.a.createElement(Z.a,{onClick:function(){if(k(ae),x<c.length){var e=c.find((function(e){return e.segment===x})),t=x+1,a=c.find((function(e){return e.segment===t}));e.start=e.start,e.end=a.end>e.end?a.end:e.end,e.duration=Math.round(e.end)-Math.round(e.start),N(te(e)),N(ee(t))}},key:"Merge with next"},"Merge with next")),i&&i>0&&i<100?r.a.createElement(B,{value:i}):null,r.a.createElement("div",{className:"col-sm-2",ref:R},r.a.createElement($.a,{variant:"contained",className:I.rmButton,onClick:function(){E&&E.playPause()},"data-action":"play"},r.a.createElement("span",{id:"play",className:"playButton",ref:A},r.a.createElement(H.a,{style:{color:"white"}}),"\xa0Play"),r.a.createElement("span",{ref:_,id:"pause",className:"pauseButton",style:{display:"none"}},r.a.createElement(q.a,{style:{color:"white"}}),"\xa0Pause"))))},re=a(211),ce=a(209),le=a(71),se=a(205),oe=a(206),ie=a(207),ue=a(213),me=a(95),de=a.n(me),Ee=a(96),fe=a.n(Ee),ge=function(e){return new Date(1e3*e).toUTCString().match(/(\d\d:\d\d:\d\d)/)[0].replace(/^0/,"")},pe=function(e){var t=e.start,a=e.end,c=e.segment,s=e.duration,o=e.drag,i=e.editing,u=(e.selectTrack,e.metaTagArtist),m=e.metaTagTrack,d=e.metaTagLabel,E=e.metaTagISRC,f=e.metaTagRegion,g=e.metaTagReleaseDate,b=e.metaTagAdditionalInfo,v=e.collapse,h=Object(l.c)(),O=Object(l.d)((function(e){return e.selectedSessionTracks})),T=Object(n.useState)(i),j=Object(L.a)(T,2),k=j[0],y=(j[1],Object(n.useState)(o)),C=Object(L.a)(y,2),x=C[0],w=(C[1],Object(n.useState)(t)),A=Object(L.a)(w,2),R=A[0],_=A[1],N=Object(n.useState)(a),D=Object(L.a)(N,2),M=D[0],I=D[1],P=Object(n.useState)(s),U=Object(L.a)(P,2),B=U[0],G=U[1],K=Object(n.useState)(v),Y=Object(L.a)(K,2),X=Y[0],W=Y[1],F=Object(n.useState)(u),V=Object(L.a)(F,2),q=V[0],J=V[1],H=Object(n.useState)(m),Q=Object(L.a)(H,2),Z=Q[0],ae=Q[1],ne=Object(n.useState)(d),re=Object(L.a)(ne,2),ce=re[0],me=re[1],Ee=Object(n.useState)(E),pe=Object(L.a)(Ee,2),be=pe[0],ve=pe[1],he=Object(n.useState)(f),Oe=Object(L.a)(he,2),Se=Oe[0],Te=Oe[1],je=Object(n.useState)(g),ke=Object(L.a)(je,2),ye=ke[0],Ce=ke[1],xe=Object(n.useState)(b),we=Object(L.a)(xe,2),Ae=we[0],Re=we[1],_e=function(){O.forEach((function(e){e.segment===c&&(x?(e.resize=!1,e.drag=!1):(e.resize=!0,e.drag=!0))}));var e=O.find((function(e){return e.segment===c}));e&&h(te(e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{hover:!0},r.a.createElement(p.a,null,c),!k&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,ge(t)),r.a.createElement(p.a,null,ge(a))),k&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement(se.a,{id:"standard-basic",onChange:function(e){_(Math.round(e.target.value)),G(Math.round(M)-Math.round(R))},value:R,type:"number"})),r.a.createElement(p.a,null,r.a.createElement(se.a,{id:"standard-basic",onChange:function(e){I(Math.round(e.target.value)),G(Math.round(M)-Math.round(R))},value:M,type:"number"}))),r.a.createElement(p.a,null,q),r.a.createElement(p.a,null,Z),r.a.createElement(p.a,null,ge(B)),r.a.createElement(p.a,null,r.a.createElement("div",{className:"btn-group"},x?r.a.createElement($.a,{variant:"contained",size:"small",onClick:_e},"Lock"):r.a.createElement($.a,{variant:"contained",size:"small",onClick:_e},"Unlock"),r.a.createElement($.a,{variant:"contained",size:"small",color:"secondary",onClick:function(){h(ee(c))}},"Remove"),r.a.createElement(oe.a,Object(le.a)({orientation:"vertical",color:"primary","aria-label":"vertical contained primary button group",style:{height:"34px"},variant:"contained"},"color","primary"),r.a.createElement($.a,{style:{height:"17px"},onClick:function(){!function(){if(!0===X){O.forEach((function(e){e.segment===c&&(e.metaTagArtist=q,e.metaTagTrack=Z,e.metaTagLabel=ce,e.metaTagISRC=be,e.metaTagReleaseDate=ye,e.metaTagAdditionalInfo=Ae,e.metaTagRegion=Se,e.collapse=!1)}));var e=O.find((function(e){return e.segment===c}));e&&h(te(e)),W(!1)}}()}},r.a.createElement(de.a,{style:{height:"17px"}})),r.a.createElement($.a,{style:{height:"17px"},onClick:function(){W(!0),O.forEach((function(e){e.segment===c&&(e.collapse=!0)}));var e=O.find((function(e){return e.segment===c}));e&&h(te(e))}},r.a.createElement(fe.a,{style:{height:"17px"}})))))),r.a.createElement(S.a,null,r.a.createElement(p.a,{style:{paddingBottom:0,paddingTop:0},colSpan:7},r.a.createElement(ie.a,{in:X,timeout:"auto",unmountOnExit:!0},r.a.createElement(z.a,{margin:1},r.a.createElement(ue.a,{label:"Artist",style:{margin:"0.7rem 0.4rem"},value:q,onChange:function(e){J(e.target.value)}}),r.a.createElement(ue.a,{label:"Track",style:{margin:"0.7rem 0.4rem"},value:Z,onChange:function(e){ae(e.target.value)}}),r.a.createElement(ue.a,{label:"Label",style:{margin:"0.7rem 0.4rem"},value:ce,onChange:function(e){me(e.target.value)}}),r.a.createElement(ue.a,{label:"ISRC",style:{margin:"0.7rem 0.4rem"},value:be,onChange:function(e){ve(e.target.value)}}),r.a.createElement(ue.a,{label:"Release Date",style:{margin:"0.7rem 0.4rem"},value:ye,onChange:function(e){Ce(e.target.value)}}),r.a.createElement(ue.a,{label:"Additional Info",style:{margin:"0.7rem 0.4rem"},value:Ae,onChange:function(e){Re(e.target.value)}}),r.a.createElement(ue.a,{label:"Region",style:{margin:"0.7rem 0.4rem"},value:Se,onChange:function(e){Te(e.target.value)}}))))))},be=function(e){var t=e.tracks,a=e.selectTrack;return r.a.createElement(v.a,{component:b.a},r.a.createElement(f.a,null,r.a.createElement(O.a,null,r.a.createElement(S.a,null,r.a.createElement(p.a,null,"No"),r.a.createElement(p.a,null,"Start"),r.a.createElement(p.a,null,"End"),r.a.createElement(p.a,null,"Artist"),r.a.createElement(p.a,null,"Track"),r.a.createElement(p.a,null,"Length"),r.a.createElement(p.a,null,"Action"))),r.a.createElement(g.a,null,t?t.map((function(e,t){return r.a.createElement(pe,Object.assign({key:t},e,{start:e.start,end:e.end,selectTrack:a}))})):null)))},ve=a(212),he=function(e){var t=e.children,a=e.value,n=e.index,c=Object(_.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},c),a===n&&r.a.createElement(z.a,{p:3},t))},Oe=Object(T.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,marginTop:"1rem"}}})),Se={PaperProps:{style:{maxHeight:224,width:250}}},Te=[{text:"Artist",type:"metaTagArtist"},{text:"Track",type:"metaTagTrack"},{text:"Label",type:"metaTagLabel"},{text:"ISRC",type:"metaTagISRC"},{text:"Release Date",type:"metaTagReleaseDate"},{text:"Additional Info",type:"metaTagAdditionalInfo"},{text:"Region",type:"metaTagRegion"}],je=function(e){var t,a=Object(l.c)(),c=Oe(),s=Object(n.useState)(0),o=Object(L.a)(s,2),i=o[0],u=o[1],m=Object(n.useState)(!1),d=Object(L.a)(m,2),E=d[0],f=d[1],g=Object(n.useState)(""),p=Object(L.a)(g,2),b=p[0],v=p[1],h=Object(n.useState)(""),O=Object(L.a)(h,2),S=O[0],T=O[1];return Object(n.useEffect)((function(){E||(v(""),T(""))}),[E]),Object(n.useEffect)((function(){T("")}),[b]),r.a.createElement("div",{className:c.root},r.a.createElement(k.a,{position:"static"},r.a.createElement(re.a,{value:i,onChange:function(e,t){u(t)},"aria-label":"Global MetaData"},r.a.createElement(ce.a,Object.assign({label:"Global MetaData"},{id:"simple-tab-".concat(t=0),"aria-controls":"simple-tabpanel-".concat(t)},{onClick:function(){f(!E)}})))),r.a.createElement(he,{value:i,index:0},r.a.createElement(ie.a,{in:E,timeout:"auto",unmountOnExit:!0},r.a.createElement(ve.a,{displayEmpty:!0,label:"Metadata Type",value:b,onChange:function(e){v(e.target.value)},input:r.a.createElement(se.a,null),MenuProps:Se,inputProps:{"aria-label":"Without label"},style:{width:"15rem",marginTop:"1.2rem"}},r.a.createElement(Z.a,{disabled:!0,value:""},r.a.createElement("em",null,"Select Global Metadata")),Te.map((function(e,t){return r.a.createElement(Z.a,{key:t,value:e.type,style:{fontWeight:e.type===b?"bold":""}},e.text)}))),r.a.createElement(ue.a,{label:"MetaData",style:{margin:"0.2rem 0.4rem"},value:S,onChange:function(e){T(e.target.value)}}),r.a.createElement($.a,{variant:"contained",size:"small",color:"primary",onClick:function(){""!==b&&""!==S&&a({type:"EDIT_GLOBAL_METADATA",payload:{type:b,value:S}})}},"Add"))))},ke=function(e){var t=Object(n.useState)([]),a=Object(L.a)(t,2),c=a[0],l=a[1];return Object(n.useEffect)((function(){if(e.session){var t=[];Object.keys(e.session).map((function(a){switch(a){case"name":t.push(["Name",e.session.name]);break;case"artist":t.push(["Artist",e.session.artist]);break;case"venue":t.push(["Venue",e.session.venue]);break;case"start_time":t.push(["Start Time",e.session.start_time]);break;case"end_time":t.push(["End Time",e.session.end_time]);break;case"promoter_name":t.push(["Promoter Name",e.session.promoter_name]);break;case"length":t.push(["Length",e.session.length])}})),l(t)}}),[e]),r.a.createElement(v.a,{component:b.a},r.a.createElement(f.a,null,r.a.createElement(g.a,null,c.map((function(e,t){return r.a.createElement(S.a,{hover:!0,key:t},r.a.createElement(p.a,null,e[0]),r.a.createElement(p.a,null,e[1]))})))))},ye=function(e){var t=e.session,a=e.selectSession,c=e.sessionAudioURL,l=e.tracks,s=e.selectTrack,o=Object(n.useState)(0),i=Object(L.a)(o,2),m=i[0],d=i[1],E=Object(u.g)().key;Object(n.useEffect)((function(){a(E)}),[a,E]);var f=Object(T.a)((function(e){return{tabContainer:{flexGrow:1,backgroundColor:e.palette.background.paper,marginTop:"20px"},paperClass:{marginTop:"20px",marginBottom:"20px",padding:"10px"},mt7:{marginTop:"7rem"}}}))(),g=function(e){var t=e.children,a=e.value,n=e.index,c=Object(_.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},c),a===n&&r.a.createElement(z.a,{p:3},t))},p=function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}};return r.a.createElement(h.a,{className:f.mt7},r.a.createElement(w,{session:t}),r.a.createElement(b.a,{className:f.paperClass},r.a.createElement("h2",null,t?t.name:"Unknown"),r.a.createElement("h6",null,"SessionID: ",t?t["session-key"]:"Unknown")),r.a.createElement(ne,{session:t,sessionAudioURL:c,tracks:l,selectTrack:s}),r.a.createElement(je,{tracks:l}),r.a.createElement("div",{className:f.tabContainer},r.a.createElement(k.a,{position:"static"},r.a.createElement(re.a,{value:m,onChange:function(e,t){d(t)},"aria-label":"simple tabs example"},r.a.createElement(ce.a,Object.assign({label:"Tracks"},p(0))),r.a.createElement(ce.a,Object.assign({label:"Session Info"},p(1))))),r.a.createElement(g,{value:m,index:0},t&&l?r.a.createElement(be,{tracks:l,selectTrack:s}):null),r.a.createElement(g,{value:m,index:1},r.a.createElement(ke,{session:t}))))},Ce=Object(l.b)((function(e){return{session:e.selectedSession,sessionAudioURL:e.selectedSessionAudioURL,tracks:e.selectedSessionTracks}}),(function(e){return{selectTrack:function(t){e(function(e){return{type:"SELECT_TRACK",segment:e}}(t))},selectSession:function(t){e(function(e){return{type:"SELECT_SESSION",key:e}}(t))}}}))(ye);var xe=function(){return r.a.createElement(i.a,null,r.a.createElement(m.a,null,r.a.createElement(E.a,{className:"row"},r.a.createElement(d.a,{xs:12},r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/"},r.a.createElement(R,null)),r.a.createElement(u.a,{path:"/session/:key"},r.a.createElement(Ce,null)))))))},we=a(73),Ae=a(34),Re=a(100),_e=a(103),Le=a(105),Ne=function(e){Object(Le.a)(a,e);var t=Object(_e.a)(a);function a(){return Object(Re.a)(this,a),t.apply(this,arguments)}return a}(a(101).Enumify);Ne.PROCESSING=new Ne,Ne.ANALYSED=new Ne,Ne.IN_PROGRESS=new Ne,Ne.COMPLETE=new Ne,Ne._=Ne.closeEnum();var De={sessions:[],selectedSessionStatus:Ne.ANALYSED,selectedSession:null,selectedSessionAudioURL:null,selectedSessionTracks:[],selectedTrack:null},Me=function(e){return"rgba("+[~~(255*Math.random()),~~(255*Math.random()),~~(255*Math.random()),e||1]+")"};var Ie=a(23),Pe=function(e){return e.sessions},Ue=function(e){return e.selectedSession},ze=function(e){return e.selectedSessionStatus},Be=function(e){return"https://4udw2uaqc6.execute-api.us-east-1.amazonaws.com/".concat("test","/sessions/status/").concat(e)},Ge=D.a.mark(We),Ke=D.a.mark(Fe),Ye=D.a.mark(Ve),Xe=D.a.mark(qe);function We(){var e,t,a,n;return D.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(Ie.c)(ze);case 2:return e=r.sent,t=Be(e.enumKey),r.next=6,Object(Ie.a)(fetch,t);case 6:return a=r.sent,r.next=9,a.json();case 9:return n=r.sent,r.next=12,Object(Ie.b)({type:"RENDER_SESSIONS",sessions:n});case 12:case"end":return r.stop()}}),Ge)}function Fe(e){var t;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Ie.c)(Pe);case 2:if((t=a.sent)&&0!==t.length){a.next=6;break}return a.next=6,Object(Ie.a)(We);case 6:return a.next=8,Object(Ie.b)({type:"SET_SELECTED_SESSION",key:e.key});case 8:return a.next=10,Object(Ie.a)(Ve);case 10:case"end":return a.stop()}}),Ke)}function Ve(){var e,t,a,n,r;return D.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(Ie.c)(Ue);case 2:return e=c.sent,t=e.s3_object,l=t,a="https://4udw2uaqc6.execute-api.us-east-1.amazonaws.com/".concat("test","/session/audio/").concat(encodeURIComponent(l)),c.next=7,Object(Ie.a)(fetch,a);case 7:return n=c.sent,c.next=10,n.text();case 10:return r=c.sent,c.next=13,Object(Ie.b)({type:"SET_SELECTED_SESSION_AUDIO_URL",url:r});case 13:case"end":return c.stop()}var l}),Ye)}function qe(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.d)("LOAD_SESSIONS",We);case 2:return e.next=4,Object(Ie.d)("SELECT_SESSION",Fe);case 4:case"end":return e.stop()}}),Xe)}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Je=Object(o.a)(),He=Object(s.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECTED_SESSION":var a=e.sessions.find((function(e){return e["session-key"]===t.key})),n=Object.assign([],a.outputs),r=0;return n.forEach((function(e,t,a){var n=r,c=r+e.duration;r=c,a[t].start=n,a[t].end=c,a[t].resize=!1,a[t].drag=!1,a[t].regionColor=Me(.3),a[t].editing=!1,a[t].collapse=!1,a[t].metaTagArtist="",a[t].metaTagRegion="",a[t].metaTagTrack="",a[t].metaTagLabel="",a[t].metaTagISRC="",a[t].metaTagReleaseDate="",a[t].metaTagAdditionalInfo=""})),Object(Ae.a)({},e,{selectedSession:a,selectedSessionTracks:n});case"SET_SELECTED_SESSION_AUDIO_URL":return Object(Ae.a)({},e,{selectedSessionAudioURL:t.url});case"RENDER_SESSIONS":var c=t.sessions.sort((function(e,t){return e.process_start_time<t.process_start_time?1:-1}));return Object(Ae.a)({},e,{sessions:c});case"SELECT_TRACK":var l=e.selectedSessionTracks.find((function(e){return e.segment===t.segment}));return Object(Ae.a)({},e,{selectedTrack:l});case"CREATE_TRACK":var s={segment:e.selectedSessionTracks.length+1,start:t.data.start,end:t.data.end,duration:t.data.duration,path:"",s3_object:"",audio_file:"",resize:!1,drag:!1,regionColor:Me(.3),editing:!1,collapse:!1,metaTagArtist:"",metaTagRegion:"",metaTagTrack:"",metaTagLabel:"",metaTagISRC:"",metaTagReleaseDate:"",metaTagAdditionalInfo:""},o=[].concat(Object(we.a)(e.selectedSessionTracks),[s]);return(o=o.sort((function(e,t){return e.start-t.start}))).map((function(e,t){e.segment=t+1})),Object(Ae.a)({},e,{selectedSessionTracks:Object(we.a)(o)});case"DELETE_TRACK":var i=e.selectedSessionTracks.filter((function(e){return e.segment!==t.segment}));return i.map((function(e,t){e.segment=t+1})),Object(Ae.a)({},e,{selectedSessionTracks:Object(we.a)(i)});case"EDIT_TRACK":var u=e.selectedSessionTracks.find((function(e){return e.segment===t.segment.segment}));return Object(Ae.a)({},e,{selectedSessionTracks:e.selectedSessionTracks.map((function(e){return e.segment!==t.segment.segment?e:u}))});case"EDIT_GLOBAL_METADATA":return Object(Ae.a)({},e,{selectedSessionTracks:e.selectedSessionTracks.map((function(e){return e[t.payload.type]=t.payload.value,e}))});default:return e}}),Object(s.a)(Je));Je.run(qe),He.dispatch({type:"LOAD_SESSIONS",status:Ne.ANALYSED}),Object(c.render)(r.a.createElement(l.a,{store:He},r.a.createElement(xe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[126,1,2]]]);
//# sourceMappingURL=main.9ada78ad.chunk.js.map